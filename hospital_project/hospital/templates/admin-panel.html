<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel | HealthCare+</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f5f7fa;
      font-family: "Segoe UI", Tahoma, sans-serif;
    }
    .card {
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .card-header {
      font-weight: bold;
    }
  </style>
</head>
<body class="bg-light">

<div class="container my-5">
  <h2 class="text-center text-primary fw-bold mb-4">
    <i class="fa-solid fa-user-shield"></i> Admin Panel
  </h2>
  <!-- Add Doctor Form -->
  <div class="card shadow mb-4">
    <div class="card-header bg-primary text-white">Add New Doctor</div>
    <div class="card-body">
      <form method="POST" action="{% url 'add_doctor' %}">
        {% csrf_token %}
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Full Name</label>
            <input type="text" name="fullName" class="form-control" placeholder="Full Name" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Email</label>
            <input type="email" name="email" class="form-control" placeholder="Email" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Password</label>
            <input type="password" name="password" class="form-control" placeholder="Password" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Phone</label>
            <input type="text" name="phone" class="form-control" placeholder="Phone" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Gender</label>
            <select name="gender" class="form-select" required>
              <option disabled selected>Select Gender</option>
              <option>Male</option>
              <option>Female</option>
              <option>Other</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">Specialization</label>
            <select name="specialization" class="form-select" required>
              <option disabled selected>Select Specialization</option>
              <option>General Physician</option>
              <option>Cardiologist</option>
              <option>Dermatologist</option>
              <option>Neurologist</option>
              <option>Orthopedic</option>
              <option>Gynecologist</option>
              <option>Pediatrician</option>
              <option>Psychiatrist</option>
              <option>Physiotherapist</option>
              <option>Surgeon</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">Degree</label>
            <select name="degree" class="form-select" required>
              <option disabled selected>Select Degree</option>
              <option>MBBS</option>
              <option>MD</option>
              <option>MS</option>
              <option>BPT</option>
              <option>MPT</option>
              <option>BDS</option>
              <option>MDS</option>
              <option>PhD</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Experience (Years)</label>
            <input type="number" name="experience" class="form-control" placeholder="e.g. 5" min="0" required>
          </div>
          <div class="col-md-9">
            <label class="form-label">Clinic / Hospital Address</label>
            <textarea name="clinicAddress" class="form-control" placeholder="Clinic / Hospital Address" rows="2" required></textarea>
          </div>
        </div>
        <div class="text-center mt-3">
          <button class="btn btn-primary px-4">Add Doctor</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Doctor List Table -->
  <div class="card shadow mb-5">
    <div class="card-header bg-success text-white">Doctor List</div>
    <div class="card-body">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-success">
          <tr>
            <th>#</th>
            <th>Full Name</th>
            <th>Email</th>
            <th>Specialization</th>
            <th>Degree</th>
            <th>Experience</th>
            <th>Phone</th>
          </tr>
        </thead>
        <tbody>
          {% for doctor in doctors %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ doctor.fullName }}</td>
            <td>{{ doctor.email }}</td>
            <td>{{ doctor.specialization }}</td>
            <td>{{ doctor.degree }}</td>
            <td>{{ doctor.experience }}</td>
            <td>{{ doctor.phone }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="7" class="text-center">No doctors added yet.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Patient List Table -->
  <div class="card shadow">
    <div class="card-header bg-info text-white">Patient List</div>
    <div class="card-body">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-info">
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Gender</th>
            <th>Blood Group</th>
          </tr>
        </thead>
        <tbody>
          {% for patient in patients %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ patient.name }}</td>
            <td>{{ patient.email }}</td>
            <td>{{ patient.phone }}</td>
            <td>{{ patient.gender }}</td>
            <td>{{ patient.blood_group }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="6" class="text-center">No patients found.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Logout -->
  <div class="text-center mt-4">
    <a href="{% url 'home' %}" class="btn btn-outline-secondary">Logout</a>
  </div>

  <!-- Messages -->
  {% if messages %}
  <div class="mt-4">
    {% for message in messages %}
    <div class="alert alert-info text-center">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
